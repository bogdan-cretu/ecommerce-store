{"ast":null,"code":"var _jsxFileName = \"/Users/donkeydesktop/Desktop/MERN COURSE/Personal projects/e-commerce/all purpose store git/ecommerce-store/src/Components/ProductCategories.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { createClient } from \"@sanity/client\";\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function getProducts() {\n  const client = createClient({\n    projectId: '63xf4beu',\n    dataset: 'store',\n    apiVersion: \"2024-01-19\",\n    useCdn: true\n  });\n  return client.fetch(`*[_type == \"product\"]`);\n}\nconst products = await getProducts();\nconst uniqueCategories = [...new Set(products.map(item => item.category))];\nconst productsByCategoryList = [];\nconst ProductCategories = () => {\n  _s();\n  const [viewProducts, setViewProducts] = useState('Phones');\n  function view() {\n    window.onclick = e => {\n      if (e.target.className.includes(\"category\") === true) {\n        setViewProducts(e.target.innerText);\n        productsByCategoryList.length = 0;\n      }\n    };\n  }\n  const categoryItems = uniqueCategories.map(category => {\n    productsByCategoryList.push(products.filter(item => item.category === category));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `category ${category}`,\n        onClick: view,\n        children: category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)\n    }, category._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this);\n  });\n  const individualProductsByCategory = productsByCategoryList.map(productList => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: productList.map(filteredProduct => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `product-thumbnail ${filteredProduct.category}`,\n          style: {\n            display: filteredProduct.category === viewProducts ? \"flex\" : \"none\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-image-holder\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"\",\n              className: \"thumbnail-pic\",\n              src: \"https://cdn.sanity.io/images/63xf4beu/store/\" + filteredProduct.image[0].asset._ref.replace(\"-png\", \".png\").replace(\"-jpg\", \".jpg\").replace(\"image-\", '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-desc\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: filteredProduct.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"$\", filteredProduct.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `/product/${filteredProduct.slug.current}`,\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"button\",\n                  children: \" View details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 71\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 20\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 16\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"categ-holder\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-section\",\n      children: categoryItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"categ-content\",\n        children: individualProductsByCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 8\n  }, this);\n};\n_s(ProductCategories, \"46y9ey/6TDRIw7Mh9M/AEO8csQw=\");\n_c = ProductCategories;\nexport default ProductCategories;\nvar _c;\n$RefreshReg$(_c, \"ProductCategories\");","map":{"version":3,"names":["React","createClient","useState","jsxDEV","_jsxDEV","getProducts","client","projectId","dataset","apiVersion","useCdn","fetch","products","uniqueCategories","Set","map","item","category","productsByCategoryList","ProductCategories","_s","viewProducts","setViewProducts","view","window","onclick","e","target","className","includes","innerText","length","categoryItems","push","filter","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_id","individualProductsByCategory","productList","filteredProduct","style","display","alt","src","image","asset","_ref","replace","name","price","href","slug","current","_c","$RefreshReg$"],"sources":["/Users/donkeydesktop/Desktop/MERN COURSE/Personal projects/e-commerce/all purpose store git/ecommerce-store/src/Components/ProductCategories.jsx"],"sourcesContent":["import React from 'react'\nimport { createClient } from \"@sanity/client\";\nimport { useState } from 'react';\n\nasync function getProducts(){\n    const client = createClient({\n        projectId: '63xf4beu',\n        dataset: 'store',\n        apiVersion: \"2024-01-19\",\n        useCdn: true,\n    });\n\n    return client.fetch(\n        `*[_type == \"product\"]`\n    )\n}\n  const products = await getProducts();\n\n  const uniqueCategories = [...new Set(products.map(item => item.category))]\n  const productsByCategoryList = []\n \n\nconst ProductCategories = () => {\n\n    \n\n    const [viewProducts, setViewProducts] = useState('Phones')\n    \n\n    function view(){\n        window.onclick = e => { \n            if (e.target.className.includes(\"category\") === true){\n                setViewProducts(e.target.innerText)\n                productsByCategoryList.length = 0\n            }\n                \n          \n        } \n    }\n\n    const categoryItems = uniqueCategories.map((category)=>{\n\n        \n\n        productsByCategoryList.push(products.filter(item => item.category === category))\n        return <div key={category._id} >\n            <div className={`category ${category}` } onClick={view}>{category}</div>\n            \n        </div>\n    })\n\n    const individualProductsByCategory = productsByCategoryList.map((productList)=>{\n        \n        return <div >\n        {productList.map((filteredProduct) => {\n            return <div className={`product-thumbnail ${filteredProduct.category}`} style={{display: filteredProduct.category === viewProducts ? \"flex\": \"none\"}}>\n                <div className='cart-image-holder'>\n                <img alt='' className='thumbnail-pic' src={\"https://cdn.sanity.io/images/63xf4beu/store/\" + filteredProduct.image[0].asset._ref.replace(\"-png\", \".png\").replace(\"-jpg\", \".jpg\").replace(\"image-\", '')}/>\n                </div>\n                <div className='product-desc'>\n                <p>{filteredProduct.name}</p>\n                <div>\n                <p>${filteredProduct.price}</p>\n                <a href={`/product/${filteredProduct.slug.current}`}> <button className='button'> View details</button></a>\n            \n                </div>\n                </div>\n                </div>\n            \n        })}\n        </div>\n    })\n \n    \n  return (\n    \n       <div className=\"categ-holder\">\n        <div className='left-section'>{categoryItems}</div>\n        <div className='right-section'>\n        <div className='categ-content'>\n            {individualProductsByCategory} \n            </div>\n        </div>\n      </div>\n  )}\n  \n\n\nexport default ProductCategories"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}